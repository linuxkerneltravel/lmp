/*! 
 Build based on gin-vue-admin 
 Time : 1646987814000 */
!function(){function e(e,t,n,r,u,a,o){try{var i=e[a](o),c=i.value}catch(s){return void n(s)}i.done?t(c):Promise.resolve(c).then(r,u)}function t(t){return function(){var n=this,r=arguments;return new Promise((function(u,a){var o=t.apply(n,r);function i(t){e(o,u,a,i,c,"next",t)}function c(t){e(o,u,a,i,c,"throw",t)}i(void 0)}))}}System.register(["../gva/gin-vue-admin-index-legacy.1646987814000.js","./gin-vue-admin-authority-legacy.16469878140002.js","./gin-vue-admin-vendor-legacy.1646987814000.js"],(function(e){"use strict";var n,r,u,a,o,i,c,s,d,l,f,m,p,h,v;return{setters:[function(e){n=e.g,r=e.h,u=e.i},function(e){a=e.u},function(e){o=e.r,i=e.k,c=e.o,s=e.i,d=e.s,l=e.j,f=e.u,m=e.D,p=e.N,h=e.B,v=e.d}],execute:function(){var y={class:"clearflex"},g=h("确 定"),w={class:"custom-tree-node"},k={name:"Menus"};e("default",Object.assign(k,{props:{row:{default:function(){return{}},type:Object}},emits:["changeRow"],setup:function(e,k){var x=k.expose,R=k.emit,I=e,b=o([]),C=o([]),j=o(!1),N=o({children:"children",label:function(e){return e.meta.title}}),_=function(){var e=t(regeneratorRuntime.mark((function e(){var t,u,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:return t=e.sent,b.value=t.data.menus,e.next=6,r({authorityId:I.row.authorityId});case 6:u=e.sent,a=u.data.menus,o=[],a.forEach((function(e){a.some((function(t){return t.parentId===e.menuId}))||o.push(Number(e.menuId))})),C.value=o;case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();_();var A=function(){var e=t(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a({authorityId:I.row.authorityId,AuthorityName:I.row.authorityName,parentId:I.row.parentId,defaultRouter:t.name});case 2:0===(n=e.sent).code&&(v({type:"success",message:"设置成功"}),R("changeRow","defaultRouter",n.data.authority.defaultRouter));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){j.value=!0},D=o(null),E=function(){var e=t(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=D.value.getCheckedNodes(!1,!0),e.next=3,u({menus:t,authorityId:I.row.authorityId});case 3:0===e.sent.code&&v({type:"success",message:"菜单设置成功!"});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return x({enterAndNext:function(){E()},needConfirm:j}),function(t,n){var r=i("el-button"),u=i("el-tree");return c(),s("div",null,[d("div",y,[l(r,{class:"fl-right",size:"mini",type:"primary",onClick:E},{default:f((function(){return[g]})),_:1})]),l(u,{ref_key:"menuTree",ref:D,data:b.value,"default-checked-keys":C.value,props:N.value,"default-expand-all":"","highlight-current":"","node-key":"ID","show-checkbox":"",onCheck:z},{default:f((function(t){var n=t.node,u=t.data;return[d("span",w,[d("span",null,m(n.label),1),d("span",null,[l(r,{type:"text",size:"mini",style:p({color:e.row.defaultRouter===u.name?"#E6A23C":"#85ce61"}),disabled:!n.checked,onClick:function(){return A(u)}},{default:f((function(){return[h(m(e.row.defaultRouter===u.name?"首页":"设为首页"),1)]})),_:2},1032,["style","disabled","onClick"])])])]})),_:1},8,["data","default-checked-keys","props"])])}}}))}}}))}();
